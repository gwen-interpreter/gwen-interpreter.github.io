"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4005],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||o;return n?a.createElement(f,i(i({ref:t},c),{},{components:n})):a.createElement(f,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5162:function(e,t,n){n.d(t,{Z:function(){return i}});var a=n(7294),r=n(4334),o="tabItem_Ymn6";function i(e){var t=e.children,n=e.hidden,i=e.className;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,i),hidden:n},t)}},4866:function(e,t,n){n.d(t,{Z:function(){return N}});var a=n(3117),r=n(7294),o=n(4334),i=n(6775),l=n(1980),s=n(7392),u=n(12);function c(e){return function(e){var t,n;return null!=(t=null==(n=r.Children.map(e,(function(e){if(!e||(0,r.isValidElement)(e)&&(t=e.props)&&"object"==typeof t&&"value"in t)return e;var t;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}(e).map((function(e){var t=e.props;return{value:t.value,label:t.label,attributes:t.attributes,default:t.default}}))}function p(e){var t=e.values,n=e.children;return(0,r.useMemo)((function(){var e=null!=t?t:c(n);return function(e){var t=(0,s.l)(e,(function(e,t){return e.value===t.value}));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function d(e){var t=e.value;return e.tabValues.some((function(e){return e.value===t}))}function m(e){var t=e.queryString,n=void 0!==t&&t,a=e.groupId,o=(0,i.k6)(),s=function(e){var t=e.queryString,n=void 0!==t&&t,a=e.groupId;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:n,groupId:a});return[(0,l._X)(s),(0,r.useCallback)((function(e){if(s){var t=new URLSearchParams(o.location.search);t.set(s,e),o.replace(Object.assign({},o.location,{search:t.toString()}))}}),[s,o])]}function f(e){var t,n,a,o,i=e.defaultValue,l=e.queryString,s=void 0!==l&&l,c=e.groupId,f=p(e),h=(0,r.useState)((function(){return function(e){var t,n=e.defaultValue,a=e.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!d({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}var r=null!=(t=a.find((function(e){return e.default})))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:i,tabValues:f})})),b=h[0],v=h[1],g=m({queryString:s,groupId:c}),y=g[0],k=g[1],w=(t=function(e){return e?"docusaurus.tab."+e:null}({groupId:c}.groupId),n=(0,u.Nk)(t),a=n[0],o=n[1],[a,(0,r.useCallback)((function(e){t&&o.set(e)}),[t,o])]),N=w[0],S=w[1],x=function(){var e=null!=y?y:N;return d({value:e,tabValues:f})?e:null}();return(0,r.useLayoutEffect)((function(){x&&v(x)}),[x]),{selectedValue:b,selectValue:(0,r.useCallback)((function(e){if(!d({value:e,tabValues:f}))throw new Error("Can't select invalid tab value="+e);v(e),k(e),S(e)}),[k,S,f]),tabValues:f}}var h=n(2466),b=n(2389),v="tabList__CuJ",g="tabItem_LNqP";function y(e){var t=e.className,n=e.block,i=e.selectedValue,l=e.selectValue,s=e.tabValues,u=[],c=(0,h.o5)().blockElementScrollPositionUntilNextRender,p=function(e){var t=e.currentTarget,n=u.indexOf(t),a=s[n].value;a!==i&&(c(t),l(a))},d=function(e){var t,n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":var a,r=u.indexOf(e.currentTarget)+1;n=null!=(a=u[r])?a:u[0];break;case"ArrowLeft":var o,i=u.indexOf(e.currentTarget)-1;n=null!=(o=u[i])?o:u[u.length-1]}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},s.map((function(e){var t=e.value,n=e.label,l=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,key:t,ref:function(e){return u.push(e)},onKeyDown:d,onClick:p},l,{className:(0,o.Z)("tabs__item",g,null==l?void 0:l.className,{"tabs__item--active":i===t})}),null!=n?n:t)})))}function k(e){var t=e.lazy,n=e.children,a=e.selectedValue,o=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){var i=o.find((function(e){return e.props.value===a}));return i?(0,r.cloneElement)(i,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},o.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})})))}function w(e){var t=f(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",v)},r.createElement(y,(0,a.Z)({},e,t)),r.createElement(k,(0,a.Z)({},e,t)))}function N(e){var t=(0,b.Z)();return r.createElement(w,(0,a.Z)({key:String(t)},e))}},9557:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return p}});var a=n(3117),r=n(102),o=(n(7294),n(3905)),i=(n(9960),n(4866),n(5162),n(4996),["components"]),l={slug:"/meta",toc_min_heading_level:2,toc_max_heading_level:3},s="Gwen Meta",u={unversionedId:"meta/meta",id:"meta/meta",title:"Gwen Meta",description:"Meta specs",source:"@site/docs/05-meta/01-meta.mdx",sourceDirName:"05-meta",slug:"/meta",permalink:"/docs/meta",draft:!1,editUrl:"https://github.com/gwen-interpreter/gwen-interpreter.github.io/edit/master/docs/05-meta/01-meta.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{slug:"/meta",toc_min_heading_level:2,toc_max_heading_level:3},sidebar:"tutorialSidebar",previous:{title:"Get Started",permalink:"/docs/get-started"},next:{title:"Load Strategies",permalink:"/docs/meta/load-strategies"}},c={},p=[{value:"Meta specs",id:"meta-specs",level:2},{value:"StepDefs",id:"stepdefs",level:2},{value:"Composable step definitions",id:"composable-step-definitions",level:3},{value:"StepDefs with parameters",id:"stepdefs-with-parameters",level:3},{value:"Synchronized StepDefs",id:"synchronized-stepdefs",level:3}],d={toc:p};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"gwen-meta"},"Gwen Meta"),(0,o.kt)("h2",{id:"meta-specs"},"Meta specs"),(0,o.kt)("p",null,"Meta specs are ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/"},"Gherkin")," specifications that describe how steps in features will execute and are the automation glue in Gwen. They define all the step definitions and bindings required for automation and attach to features at runtime."),(0,o.kt)("h2",{id:"stepdefs"},"StepDefs"),(0,o.kt)("h3",{id:"composable-step-definitions"},"Composable step definitions"),(0,o.kt)("p",null,"Step definitions are defined as ",(0,o.kt)("code",null,"@StepDef")," annotated ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/#example"},"Scenarios")," with names that map to steps in features and bodies that call out to ",(0,o.kt)("a",{parentName:"p",href:"/docs/dsl/reference"},"DSL steps")," to perform operations."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"Put all your step definitions in meta to keep your features clean and free of automation concerns.")),(0,o.kt)("p",null,"Consider the following feature step:"),(0,o.kt)("admonition",{title:"Feature Step",type:"note"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("em",{parentName:"p"},"File: features/todo.feature")),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Given a new todo list\n"))),(0,o.kt)("p",null,"A step definition for executing this step could be defined in meta as follows:"),(0,o.kt)("admonition",{title:"StepDef",type:"note"},(0,o.kt)("p",{parentName:"admonition"},(0,o.kt)("em",{parentName:"p"},"File: features/todo.meta")),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{2-3}","{2-3}":!0},'  @Context\n  @StepDef\n  Scenario: a new todo list\n    Given my todo list can be located by css ".todo-list"\n     When I navigate to "${todo.page.url}"\n     Then the page title should contain "TodoMVC"\n      And my todo list should not be displayed\n')),(0,o.kt)("p",{parentName:"admonition"},"Calls DSL steps:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#element-can-be-located-by-selector-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'<element> can be located by <selector> "<expression>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#i-navigate-to-url"},(0,o.kt)("inlineCode",{parentName:"a"},'I navigate to "<url>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#the-page-title-should-match-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'the page title should[ not] <match> "<expression>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#element-should-be-state"},(0,o.kt)("inlineCode",{parentName:"a"},"<element> should[ not] be <state>"))))),(0,o.kt)("p",null,"Notice how the name of the StepDef matches the name of the feature step (excluding the leading ",(0,o.kt)("em",{parentName:"p"},"Given")," keyword). This is how step definitions bind to feature steps in Gwen; by name. Notice also that the body calls out to several DSL steps to perform the desired operations. Composing StepDefs in meta is all you need to do to make your features executable."),(0,o.kt)("h3",{id:"stepdefs-with-parameters"},"StepDefs with parameters"),(0,o.kt)("p",null,"StepDefs can also be declared to accept parameters using one or more ",(0,o.kt)("inlineCode",{parentName:"p"},"<param-name>")," placeholders in the declared name as follows:"),(0,o.kt)("admonition",{title:"Feature Step",type:"note"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Then the list will contain 2 items\n"))),(0,o.kt)("admonition",{title:"StepDef with a parameter",type:"note"},(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{2-3,5}","{2-3,5}":!0},'  @Assertion\n  @StepDef\n  Scenario: the list will contain <expected-count> items\n    Given the item count can be located by css ".todo-count strong"\n     Then the item count should be "$<expected-count>"\n')),(0,o.kt)("p",{parentName:"admonition"},"Calls DSL steps:"),(0,o.kt)("ul",{parentName:"admonition"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#element-can-be-located-by-selector-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'<element> can be located by <selector> "<expression>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#text-ref-should-match-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'<textRef> should[ not] <match> "<expression>"'))))),(0,o.kt)("p",null,"Here the name of the StepDef matches the feature step when the value ",(0,o.kt)("code",null,"2")," (in the feature step) is substituted in place of ",(0,o.kt)("inlineCode",{parentName:"p"},"<expected-count>")," in the StepDef name. This is how parameters are passed to StepDefs in Gwen; by substitution. The last step in the body extracts the parameter value with ",(0,o.kt)("inlineCode",{parentName:"p"},"$<expected-count>"),"."),(0,o.kt)("h3",{id:"synchronized-stepdefs"},"Synchronized StepDefs"),(0,o.kt)("p",null,"In the rare case where you might need to synchronize the execution of your StepDef to a single thread (due to resource contention or a conflict for example), you can do so by tagging it with the ",(0,o.kt)("inlineCode",{parentName:"p"},"@Synchronized")," annotation. Gwen will then guarantee that only one thread will execute your StepDef at any given time when multiple features or scenarios are executed in ",(0,o.kt)("a",{parentName:"p",href:"/docs/modes/parallel"},"parallel mode")," by concurrent threads."))}m.isMDXComponent=!0}}]);