"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[719],{6271:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return d},contentTitle:function(){return m},metadata:function(){return p},toc:function(){return u},default:function(){return h}});var n=a(7462),i=a(3366),o=(a(7294),a(3905)),l=a(5064),r=a(8215),s=(a(4996),["components"]),d={},m="Meta Specs",p={unversionedId:"meta-specs",id:"meta-specs",isDocsHomePage:!1,title:"Meta Specs",description:"Meta specs are Gherkin specs that describe how feature steps will execute and are the automation glue in Gwen. They define all the step definitions and bindings required for automation and attach to features at runtime.",source:"@site/docs/03-meta-specs.mdx",sourceDirName:".",slug:"/meta-specs",permalink:"/docs/meta-specs",editUrl:"https://github.com/gwen-interpreter/gwen-interpreter.github.io/edit/master/docs/03-meta-specs.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Get Started",permalink:"/docs/get-started"},next:{title:"DSL Overview",permalink:"/docs/dsl/overview"}},u=[{value:"StepDefs",id:"stepdefs",children:[{value:"Composable step definitions",id:"composable-step-definitions",children:[]},{value:"StepDefs with parameters",id:"stepdefs-with-parameters",children:[]}]},{value:"Meta Load Strategies",id:"meta-load-strategies",children:[{value:"Default Strategy",id:"default-strategy",children:[]},{value:"Associative Strategy",id:"associative-strategy",children:[]},{value:"External Strategy",id:"external-strategy",children:[]},{value:"Import Strategy",id:"import-strategy",children:[]}]}],c={toc:u};function h(e){var t=e.components,a=(0,i.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"meta-specs"},"Meta Specs"),(0,o.kt)("p",null,"Meta specs are ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/"},"Gherkin")," specs that describe how feature steps will execute and are the automation glue in Gwen. They define all the step definitions and bindings required for automation and attach to features at runtime."),(0,o.kt)("h2",{id:"stepdefs"},"StepDefs"),(0,o.kt)("h3",{id:"composable-step-definitions"},"Composable step definitions"),(0,o.kt)("p",null,"Step definitions are defined as ",(0,o.kt)("code",null,"@StepDef")," annotated ",(0,o.kt)("a",{parentName:"p",href:"https://cucumber.io/docs/gherkin/reference/#example"},"Scenarios")," with names that map to feature steps and bodies that call out to one or many ",(0,o.kt)("a",{parentName:"p",href:"/docs/dsl/overview"},"DSL steps")," to perform operations."),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Put all your step definitions in meta to keep your features clean and free of automation concerns."))),(0,o.kt)("p",null,"Consider the following feature step:"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Feature Step")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("em",{parentName:"p"},"File: features/todo.feature")),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Given a new todo list\n")))),(0,o.kt)("p",null,"A step definition for executing this could be defined in meta as follows:"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"StepDef")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},(0,o.kt)("em",{parentName:"p"},"File: features/todo.meta")),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{2-3}","{2-3}":!0},'  @Context\n  @StepDef\n  Scenario: a new todo list\n      Given my todo list can be located by css ".todo-list"\n       When I navigate to "${todo.page.url}"\n       Then the page title should contain "TodoMVC"\n        And my todo list should be hidden\n')),(0,o.kt)("p",{parentName:"div"},"Calls DSL steps:"),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#element-can-be-located-by-selector-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'<element> can be located by <selector> "<expression>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#i-navigate-to-url"},(0,o.kt)("inlineCode",{parentName:"a"},'I navigate to "<url>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#the-page-title-should-match-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'the page title should[ not] <match> "<expression>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#element-should-be-state"},(0,o.kt)("inlineCode",{parentName:"a"},"<element> should[ not] be <state>")))))),(0,o.kt)("p",null,"Notice how the name of the StepDef matches the feature step exactly. This is how step definitions bind to feature steps in Gwen; by name. Notice also that the body calls out to 4 DSL steps to perform the desired operations. Composing StepDefs in this manner is all you to do to make your features executable with Gwen."),(0,o.kt)("h3",{id:"stepdefs-with-parameters"},"StepDefs with parameters"),(0,o.kt)("p",null,"StepDefs can also be declared to accept parameters using one or more ",(0,o.kt)("inlineCode",{parentName:"p"},"<param-name>")," placeholders in the declared name as follows:"),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"Feature Step")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},"  Then the list will contain 2 items\n")))),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"StepDef with a parameter")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{2-3,5}","{2-3,5}":!0},'  @Assertion\n  @StepDef\n  Scenario: the list will contain <expected-count> items\n      Given the displayed count can be located by css ".todo-count strong"\n       Then the displayed count should be "$<expected-count>"\n')),(0,o.kt)("p",{parentName:"div"},"Calls DSL steps:"),(0,o.kt)("ul",{parentName:"div"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#element-can-be-located-by-selector-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'<element> can be located by <selector> "<expression>"'))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/dsl/reference#text-ref-should-match-expression"},(0,o.kt)("inlineCode",{parentName:"a"},'<textRef> should[ not] <match> "<expression>"')))))),(0,o.kt)("p",null,"Here the name of the StepDef matches the feature step when the value ",(0,o.kt)("code",null,"2")," (in the feature step) is substituted in place of ",(0,o.kt)("inlineCode",{parentName:"p"},"<expected-count>")," in the name of the StepDef. This is how parameters are passed to StepDefs in Gwen; by substitution. The last step in the body dereferences the parameter value as ",(0,o.kt)("inlineCode",{parentName:"p"},"$<expected-count>"),"."),(0,o.kt)("h2",{id:"meta-load-strategies"},"Meta Load Strategies"),(0,o.kt)("h3",{id:"default-strategy"},"Default Strategy"),(0,o.kt)("p",null,"The default strategy will, for every feature:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Auto discover and unconditionally load all the meta in the path to the feature"),(0,o.kt)("li",{parentName:"ol"},"Execute the feature")),(0,o.kt)("p",null,"If you have your meta and feature files in a directory structure as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/features\n \u251c\u2500\u2500 todo.meta\n \u251c\u2500\u2500 todo.feature\n \u251c\u2500\u2500 /dir1\n \u2502    \u251c\u2500\u2500 todo1.meta\n \u2502    \u251c\u2500\u2500 todo1.feature\n \u2502    \u2514\u2500\u2500 todo1a.feature\n \u2514\u2500\u2500 /dir2\n     \u251c\u2500\u2500 todo2.meta\n     \u251c\u2500\u2500 todo2.feature\n     \u2514\u2500\u2500 /dir3\n         \u2514\u2500\u2500 todo3.feature\n")),(0,o.kt)("p",null,"When you launch Gwen to execute on the ",(0,o.kt)("inlineCode",{parentName:"p"},"features")," directory, the default strategy will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1a.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo3.feature"))),(0,o.kt)("p",null,"When you launch Gwen to execute on the ",(0,o.kt)("inlineCode",{parentName:"p"},"features/dir1")," directory, the default strategy will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1a.feature"))),(0,o.kt)("p",null,"When you launch Gwen to execute the ",(0,o.kt)("inlineCode",{parentName:"p"},"features/dir2/todo2.feature")," file, the default strategy will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.feature"))),(0,o.kt)("h3",{id:"associative-strategy"},"Associative Strategy"),(0,o.kt)("p",null,"When ",(0,o.kt)("a",{parentName:"p",href:"/docs/settings/reference#gwen-associative-meta"},"associative meta")," is enabled, a meta file is considered to be associated with a feature file if the two files are in the same directory and have the same names excluding file extensions. The associative strategy will, for every feature:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Auto discover all the meta files in the path to the feature file and only load those that are either:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Not associated with any feature (one or many)"),(0,o.kt)("li",{parentName:"ul"},"Associated with the current feature (one or none)"))),(0,o.kt)("li",{parentName:"ol"},"Execute the feature")),(0,o.kt)("p",null,"If you have your meta and feature files in a directory structure as follows:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/features\n \u251c\u2500\u2500 todo.meta\n \u251c\u2500\u2500 todo.feature\n \u251c\u2500\u2500 /dir1\n \u2502    \u251c\u2500\u2500 todo1.meta\n \u2502    \u251c\u2500\u2500 todo1.feature\n \u2502    \u2514\u2500\u2500 todo1a.feature\n \u2514\u2500\u2500 /dir2\n     \u251c\u2500\u2500 todo2.meta\n     \u251c\u2500\u2500 todo2.feature\n     \u2514\u2500\u2500 /dir3\n         \u2514\u2500\u2500 todo3.feature\n")),(0,o.kt)("p",null,"When you launch Gwen to execute on the ",(0,o.kt)("inlineCode",{parentName:"p"},"features")," directory, the associative strategy will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1a.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo3.feature"))),(0,o.kt)("p",null,"When you launch Gwen to execute on the ",(0,o.kt)("inlineCode",{parentName:"p"},"features/dir1")," directory, the associative strategy will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1.feature")),(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo1a.feature"))),(0,o.kt)("p",null,"When you launch Gwen to execute the ",(0,o.kt)("inlineCode",{parentName:"p"},"features/dir2/todo2.feature")," file, the associative strategy will:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Load ",(0,o.kt)("inlineCode",{parentName:"li"},"todo.meta")," and execute ",(0,o.kt)("inlineCode",{parentName:"li"},"todo2.feature"))),(0,o.kt)("h3",{id:"external-strategy"},"External Strategy"),(0,o.kt)("p",null,"The external strategy enables you to manage common and reusable meta files in separate directory external to you your features. How you name your meta files or how you structure the directory does not matter. This strategy can be used in conjunction with any other meta load strategy."),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("p",null,"To load a single meta file from an external directory, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"-m/--meta")," ",(0,o.kt)("a",{parentName:"p",href:"/docs/cli/launcher#options-and-usage"},"CLI option")," and specify the path to the meta file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./gwen features -m external-meta/common.meta\n")),(0,o.kt)("p",null,"To recursively load all meta files in an external directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./gwen features -m external-meta\n"))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("p",null,"To load a single meta file from an external directory, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"-m/--meta")," ",(0,o.kt)("a",{parentName:"p",href:"/docs/cli/launcher#options-and-usage"},"CLI option")," and specify the path to the meta file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"gwen features -m external-meta\\common.meta\n")),(0,o.kt)("p",null,"To recursively load all meta files in an external directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"gwen features -m external-meta\n")))),(0,o.kt)("h3",{id:"import-strategy"},"Import Strategy"),(0,o.kt)("p",null,"The import strategy enables you to selectively import one or more meta files into your feature files and have them load automatically without you having to specify their locations using ",(0,o.kt)("inlineCode",{parentName:"p"},"-m/--meta")," ",(0,o.kt)("a",{parentName:"p",href:"/docs/cli/launcher#options-and-usage"},"CLI option")," on every launch. This is useful for cases where you have many reusable meta files and it is not practical to load all of them for every feature file."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"When using this strategy, it is important to ensure that the meta files you want to import are not located in or under any directories containing your feature files. This is to prevent them from being auto-loaded by the default strategy. Similarly, they should also not reside in any directories containing meta files loaded by the external strategy if you are using that in conjunction with this strategy."))),(0,o.kt)("p",null,"The import strategy can be used to avoid redundant meta loads and improve performance and scalability in extreme cases where all your common meta combined exceeds or approaches 500 KB in size (that is: when you have LOTS of common meta)."),(0,o.kt)("p",null,"For example, say you have many meta files in a directory:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"/meta\n \u251c\u2500\u2500 module-1.meta\n \u251c\u2500\u2500 module-2.meta\n \u251c\u2500\u2500 module-3.meta\n \u2502    ..\n \u251c\u2500\u2500 module-n.meta\n \u251c\u2500\u2500 /dir1\n \u2502   \u251c\u2500\u2500 submodule-1.meta\n \u2502   \u251c\u2500\u2500 submodule-2.meta\n \u2502   \u251c\u2500\u2500 submodule-3.meta\n \u2502   \u2502    ..\n \u2502   \u2514\u2500\u2500 submodule-n.meta\n \u2502\n/features\n \u251c\u2500\u2500 spec-1.feature\n \u251c\u2500\u2500 spec-2.feature\n \u251c\u2500\u2500 spec-3.feature\n \u2502    ..\n \u2514\u2500\u2500 spec-n.feature\n")),(0,o.kt)("p",null,"To load only one common meta file when executing a feature with the external meta strategy, you would have to explicitly specify which one to load using the ",(0,o.kt)("inlineCode",{parentName:"p"},"-m/--meta")," CLI option as follows:"),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./gwen -m meta/module-1.meta features/spec-1.feature\n"))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"gwen -m meta\\module-1.meta features\\spec-1.feature\n")))),(0,o.kt)("p",null,"Having to remember exactly which meta to load for which features is impractical and blindly loading all meta files to execute a feature that only requires one or some of them is wasteful."),(0,o.kt)("p",null,"With meta imports, you can do away with having to use the ",(0,o.kt)("inlineCode",{parentName:"p"},"-m/--meta")," option altogether by adding an ",(0,o.kt)("inlineCode",{parentName:"p"},'@Import("path/to/file.meta")')," annotation to the top of each feature file. For example, we could declare precisely what meta the ",(0,o.kt)("inlineCode",{parentName:"p"},"feautre/spec-1.feature")," file should load by specifying an import annotation in that feature file itself as follows:"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"File: /features/spec-1.feature")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  @Import("meta/module-1.meta")\n  Feature: feature 1\n\n\n  Scenario: ..\n      Given ..\n       When ..\n       Then ..\n  ..\n')),(0,o.kt)("p",null,"Now we can invoke Gwen on the feature only without having to explicitly specify the meta on the command line:"),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./gwen features/spec-1.feature\n"))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"gwen features\\spec-1.feature\n")))),(0,o.kt)("p",null,"Gwen will implicitly load the meta file specified in the import annotation only before executing the feature."),(0,o.kt)("p",null,"You can add any number of meta imports to a feature. The following example imports two meta files:"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"File: /features/spec-2.feature")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  @Import("meta/module-1.meta")\n  @Import("meta/module-2.meta")\n  Feature: feature 2\n\n\n  Scenario: ..\n      Given ..\n       When ..\n       Then ..\n  ..\n')),(0,o.kt)("p",null,"You can also chain (or link together) meta imports across meta files. For example, if the ",(0,o.kt)("inlineCode",{parentName:"p"},"module-2.meta")," should always require ",(0,o.kt)("inlineCode",{parentName:"p"},"module-1.meta"),", then you can import the latter into the former:"),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"File: /features/module-2.meta")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  @Import("meta/module-1.meta")\n  Feature: meta 2\n\n\n  @StepDef\n  Scenario: ..\n      Given ..\n       When ..\n       Then ..\n  ..\n')),(0,o.kt)("p",null,"Now any feature that imports ",(0,o.kt)("inlineCode",{parentName:"p"},"module-2.meta")," will also implicitly import ",(0,o.kt)("inlineCode",{parentName:"p"},"module-1.meta"),"."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"File: /features/spec-3.feature")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-gherkin"},'  @Import("meta/module-2.meta")\n  Feature: feature 3\n\n\n  Scenario: ..\n      Given ..\n       When ..\n       Then ..\n  ..\n')),(0,o.kt)("p",null,"Both ",(0,o.kt)("inlineCode",{parentName:"p"},"meta/module-1.meta")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"meta\\/module-2.meta")," will be loaded (in that order) by Gwen before executing the ",(0,o.kt)("inlineCode",{parentName:"p"},"features/test-3.feature")," file without you having to specify any meta paths on the command line."),(0,o.kt)(l.Z,{groupId:"os",defaultValue:"linux",values:[{label:"Linux",value:"linux"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,o.kt)(r.Z,{value:"linux",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./gwen features/spec-3.feature\n"))),(0,o.kt)(r.Z,{value:"windows",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"gwen features\\spec-3.feature\n")))),(0,o.kt)("p",null,"The path to the meta file in all import annotations can be absolute or relative to the directory where Gwen is invoked. If a recursive (or cyclic) import is detected in an import chain, Gwen will report it by throwing an exception with a message identifying the offending import and the file that it was declared in."),(0,o.kt)("p",null,"Meta loaded through the import strategy get last precedence and therefore can be overridden by meta files loaded through any of the other meta load strategies."))}h.isMDXComponent=!0}}]);