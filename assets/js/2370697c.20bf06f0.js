"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[559],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return p}});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=a.createContext({}),u=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=u(e.components);return a.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},m=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=u(t),p=r,f=m["".concat(s,".").concat(p)]||m[p]||c[p]||i;return t?a.createElement(f,o(o({ref:n},d),{},{components:t})):a.createElement(f,o({ref:n},d))}));function p(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,o=new Array(i);o[0]=m;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var u=2;u<i;u++)o[u]=t[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},5162:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(7294),r=t(4334),i="tabItem_Ymn6";function o(e){var n=e.children,t=e.hidden,o=e.className;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,o),hidden:t},n)}},4866:function(e,n,t){t.d(n,{Z:function(){return w}});var a=t(3117),r=t(7294),i=t(4334),o=t(6775),l=t(1980),s=t(7392),u=t(12);function d(e){return function(e){var n,t;return null!=(n=null==(t=r.Children.map(e,(function(e){if(!e||(0,r.isValidElement)(e)&&(n=e.props)&&"object"==typeof n&&"value"in n)return e;var n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}(e).map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes,default:n.default}}))}function c(e){var n=e.values,t=e.children;return(0,r.useMemo)((function(){var e=null!=n?n:d(t);return function(e){var n=(0,s.l)(e,(function(e,n){return e.value===n.value}));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function m(e){var n=e.value;return e.tabValues.some((function(e){return e.value===n}))}function p(e){var n=e.queryString,t=void 0!==n&&n,a=e.groupId,i=(0,o.k6)(),s=function(e){var n=e.queryString,t=void 0!==n&&n,a=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:t,groupId:a});return[(0,l._X)(s),(0,r.useCallback)((function(e){if(s){var n=new URLSearchParams(i.location.search);n.set(s,e),i.replace(Object.assign({},i.location,{search:n.toString()}))}}),[s,i])]}function f(e){var n,t,a,i,o=e.defaultValue,l=e.queryString,s=void 0!==l&&l,d=e.groupId,f=c(e),b=(0,r.useState)((function(){return function(e){var n,t=e.defaultValue,a=e.tabValues;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+a.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var r=null!=(n=a.find((function(e){return e.default})))?n:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:o,tabValues:f})})),h=b[0],y=b[1],v=p({queryString:s,groupId:d}),g=v[0],k=v[1],N=(n=function(e){return e?"docusaurus.tab."+e:null}({groupId:d}.groupId),t=(0,u.Nk)(n),a=t[0],i=t[1],[a,(0,r.useCallback)((function(e){n&&i.set(e)}),[n,i])]),w=N[0],x=N[1],E=function(){var e=null!=g?g:w;return m({value:e,tabValues:f})?e:null}();return(0,r.useLayoutEffect)((function(){E&&y(E)}),[E]),{selectedValue:h,selectValue:(0,r.useCallback)((function(e){if(!m({value:e,tabValues:f}))throw new Error("Can't select invalid tab value="+e);y(e),k(e),x(e)}),[k,x,f]),tabValues:f}}var b=t(2466),h=t(2389),y="tabList__CuJ",v="tabItem_LNqP";function g(e){var n=e.className,t=e.block,o=e.selectedValue,l=e.selectValue,s=e.tabValues,u=[],d=(0,b.o5)().blockElementScrollPositionUntilNextRender,c=function(e){var n=e.currentTarget,t=u.indexOf(n),a=s[t].value;a!==o&&(d(n),l(a))},m=function(e){var n,t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":var a,r=u.indexOf(e.currentTarget)+1;t=null!=(a=u[r])?a:u[0];break;case"ArrowLeft":var i,o=u.indexOf(e.currentTarget)-1;t=null!=(i=u[o])?i:u[u.length-1]}null==(n=t)||n.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":t},n)},s.map((function(e){var n=e.value,t=e.label,l=e.attributes;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,key:n,ref:function(e){return u.push(e)},onKeyDown:m,onClick:c},l,{className:(0,i.Z)("tabs__item",v,null==l?void 0:l.className,{"tabs__item--active":o===n})}),null!=t?t:n)})))}function k(e){var n=e.lazy,t=e.children,a=e.selectedValue,i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){var o=i.find((function(e){return e.props.value===a}));return o?(0,r.cloneElement)(o,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},i.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==a})})))}function N(e){var n=f(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",y)},r.createElement(g,(0,a.Z)({},e,n)),r.createElement(k,(0,a.Z)({},e,n)))}function w(e){var n=(0,h.Z)();return r.createElement(N,(0,a.Z)({key:String(n)},e))}},2094:function(e,n,t){t.r(n),t.d(n,{assets:function(){return c},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return s},metadata:function(){return d},toc:function(){return m}});var a=t(3117),r=t(102),i=(t(7294),t(3905)),o=t(9960),l=(t(4866),t(5162),t(4996),["components"]),s={toc_min_heading_level:2,toc_max_heading_level:3},u="Eager or Lazy Bindings",d={unversionedId:"eager-or-lazy",id:"eager-or-lazy",title:"Eager or Lazy Bindings",description:"@Eager and @Lazy annotations can be used on the following DSL steps to control when expressions are evaluated and bound to names. In the absence of either annotation, expressions will be evaluated every time they are referenced by name and discarded once used.",source:"@site/docs/22-eager-or-lazy.mdx",sourceDirName:".",slug:"/eager-or-lazy",permalink:"/docs/eager-or-lazy",draft:!1,editUrl:"https://github.com/gwen-interpreter/gwen-interpreter.github.io/edit/master/docs/22-eager-or-lazy.mdx",tags:[],version:"current",sidebarPosition:22,frontMatter:{toc_min_heading_level:2,toc_max_heading_level:3},sidebar:"tutorialSidebar",previous:{title:"Finally Steps",permalink:"/docs/finally-steps"},next:{title:"Locator Chaining",permalink:"/docs/locator-chaining"}},c={},m=[{value:"@Eager",id:"eager",level:2},{value:"@Lazy",id:"lazy",level:2},{value:"Default (ephemeral)",id:"default-ephemeral",level:2}],p={toc:m};function f(e){var n=e.components,t=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"eager-or-lazy-bindings"},"Eager or Lazy Bindings"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"@Eager")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"@Lazy")," annotations can be used on the following DSL steps to control when expressions are evaluated and bound to names. In the absence of either annotation, expressions will be evaluated every time they are referenced by name and discarded once used."),(0,i.kt)("h2",{id:"eager"},"@Eager"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Since ",(0,i.kt)(o.Z,{to:"https://github.com/gwen-interpreter/gwen-web/releases/tag/v3.9.0",mdxType:"Link"},"v3.9.0"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"@Eager")," annotation can be used to immediately evaluate and bind the result an expression to a name. The eagerly bound value is instantly returned whenever the name is referenced."),(0,i.kt)("admonition",{title:"Eager example",type:"note"},(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{1}","{1}":!0},'  Given @Eager time is defined by js "new Date().getTime()"\n   When I capture time as time 1\n    And I capture time as time 2 \n   Then time 1 should be "${time 2}"\n')),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"time 1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"time 2")," will have the same value since ",(0,i.kt)("inlineCode",{parentName:"p"},"time")," is evaluated and bound immediately at step 1.")),(0,i.kt)("h2",{id:"lazy"},"@Lazy"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Since ",(0,i.kt)(o.Z,{to:"https://github.com/gwen-interpreter/gwen-web/releases/tag/v3.9.0",mdxType:"Link"},"v3.9.0"))),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"@Lazy")," annotation can be used to evaluate and bind the result an expression to a name when that name is first referenced. The lazily bound value is returned whenever the name is referenced thereafter."),(0,i.kt)("admonition",{title:"Eager example",type:"note"},(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{1,2}","{1,2}":!0},'  Given @Lazy time is defined by js "new Date().getTime()"\n   When I capture time as time 1\n    And I capture time as time 2 \n   Then time 1 should be "${time 2}"\n')),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"time 1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"time 2")," will have the same value since ",(0,i.kt)("inlineCode",{parentName:"p"},"time")," is bound and evaluated when it is first referenced.")),(0,i.kt)("h2",{id:"default-ephemeral"},"Default (ephemeral)"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"Since ",(0,i.kt)(o.Z,{to:"https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0",mdxType:"Link"},"v1.0.0"))),(0,i.kt)("p",null,"In the absence of either annoation, the expression will be unconditionally evaluated every time the name is referenced without being saved to memory. This is the default behaviour."),(0,i.kt)("admonition",{title:"Eager example",type:"note"},(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre",className:"language-gherkin",metastring:"{2-3}","{2-3}":!0},'  Given time is defined by js "new Date().getTime()"\n   When I capture time as time 1\n    And I capture time as time 2 \n   Then time 1 should not be "${time 2}"\n')),(0,i.kt)("p",{parentName:"admonition"},(0,i.kt)("inlineCode",{parentName:"p"},"time 1")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"time 2")," will have different values since ",(0,i.kt)("inlineCode",{parentName:"p"},"time")," is evaluated, bound and discarded at steps 2 and 3."),(0,i.kt)("h2",{parentName:"admonition",id:"dsls"},"DSLs"),(0,i.kt)("p",{parentName:"admonition"},"The following DSLs support eager or lazy bindngs:"),(0,i.kt)("ul",{parentName:"admonition"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-javascript-expression"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by <javascript|js> "<expression>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-js-function-applied-to-arg"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by <javascriptRef> applied to "<argument>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-js-function-applied-to-args-delimited-by"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by <javascriptRef> applied to "<arguments>" delimited by "<delimiter>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-in-text-ref-by-regex-expression"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined in <textRef> by regex "<expression>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-the-node-type-in-xml-ref-by-xpath-expression"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by the <nodeType> in <xmlRef> by xpath "<expression>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-in-json-ref-by-json-path-expression"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined in <jsonRef> by json path "<expression>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-system-process-expression"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by system process "<expression>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-system-process-expression-delimited-by-delimiters"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by system process "<expression>" delimited by "<delimiters>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-unix-system-process-expression"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by unix system process "<expression>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-file"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined by file "<filepath>"'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"/docs/dsl#name-is-defined-by-database-select-statement"},(0,i.kt)("inlineCode",{parentName:"a"},'<name> is defined in the <dbName> database by sql "<selectStmt>"'))))))}f.isMDXComponent=!0}}]);