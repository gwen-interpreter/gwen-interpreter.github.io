"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[9428],{5160(e,n,r){r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>u});const t=JSON.parse('{"id":"dsl/assertions/data-asserts","title":"Data asserts","description":"Checks that the current value of a field (or aggregation of fields) is unique in a CSV or JSON input file","source":"@site/docs/04-dsl/04-assertions/14-data-asserts.mdx","sourceDirName":"04-dsl/04-assertions","slug":"/dsl/assertions/data-asserts","permalink":"/docs/dsl/assertions/data-asserts","draft":false,"unlisted":false,"editUrl":"https://github.com/gwen-interpreter/gwen-interpreter.github.io/edit/master/docs/04-dsl/04-assertions/14-data-asserts.mdx","tags":[],"version":"current","sidebarPosition":14,"frontMatter":{"title":"Data asserts"},"sidebar":"tutorialSidebar","previous":{"title":"Cumulative asserts","permalink":"/docs/dsl/assertions/cumulative-asserts"},"next":{"title":"Control structures","permalink":"/docs/dsl/control-structures/"}}');var a=r(4848),s=r(8453),i=r(8774);r(1470),r(9365);const l={title:"Data asserts"},o=void 0,c={},u=[{value:"CSV Check",id:"csv-check",level:5},{value:"JSON Check",id:"json-check",level:5},{value:"CSV Check",id:"csv-check-1",level:5},{value:"JSON Check",id:"json-check-1",level:5}];function d(e){const n={code:"code",h5:"h5",p:"p",pre:"pre",...(0,s.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r,{id:"name-should-be-unique-in-the-filepath-file",children:[(0,a.jsxs)("summary",{class:"dsl",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:'<name> should be unique in the "<filepath>" file\n'})}),(0,a.jsx)("p",{children:"Checks that the current value of a field (or aggregation of fields) is unique in a CSV or JSON input file"})]}),(0,a.jsx)("p",{children:"Where"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:"<name>"}),"the name of the field (or comma separated fields aggregation) to check"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:"<filepath>"})," the path to the CSV or JSON file"]})]}),(0,a.jsx)("p",{children:"Examples"}),(0,a.jsx)(n.h5,{id:"csv-check",children:"CSV Check"}),(0,a.jsx)(n.p,{children:"Given the CSV file: resources/StateCodes.csv"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"Code,Name\nACT,Australian Capital Territory\nNSW,New South Wales\nNT,Northern Territory\nQLD,Queensland\nSA,South Australia\nTAS,Tasmania\nVIC,Victoria\nWA,Western Australia\n"})}),(0,a.jsxs)(n.p,{children:["The following will check that all values in the ",(0,a.jsx)("code",{children:"Name"})," column are unique:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",metastring:"{1}",children:'  Then Name should be unique in the "resources/StateCodes.csv" file\n'})}),(0,a.jsx)(n.h5,{id:"json-check",children:"JSON Check"}),(0,a.jsx)(n.p,{children:"Given the JSON file: resources/StateCodes.json"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  { "Code": "ACT", "Name": "Australian Capital Territory" },\n  { "Code": "NSW", "Name": "New South Wales" },\n  { "Code": "NT",  "Name": "Northern Territory" },\n  { "Code": "QLD", "Name": "Queensland" },\n  { "Code": "SA",  "Name": "South Australia" },\n  { "Code": "TAS", "Name": "Tasmania" },\n  { "Code": "VIC", "Name": "Victoria" },\n  { "Code": "WA",  "Name": "Western Australia" }\n]\n'})}),(0,a.jsxs)(n.p,{children:["The following will check that all ",(0,a.jsx)("code",{children:"Name"})," properties are unique:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",metastring:"{1}",children:'  Then Name should be unique in the "resources/StateCodes.json" file\n'})}),(0,a.jsxs)("div",{class:"grid-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.A,{to:"#name-should-be-unique-in-the-filepath-file",children:"Link"})}),(0,a.jsx)("div",{align:"center"}),(0,a.jsxs)("div",{align:"right",children:["Since ",(0,a.jsx)(i.A,{to:"https://github.com/gwen-interpreter/gwen-web/releases/tag/v4.12.0",children:"v4.12.0"})]})]})]}),"\n",(0,a.jsxs)(r,{id:"name-should-be-unique-in-the-filepath-ref",children:[(0,a.jsxs)("summary",{class:"dsl",children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",children:"<name> should be unique in <filepathRef file>\n"})}),(0,a.jsx)("p",{children:"Checks that the current value of a field (or aggregation of fields) is unique in a CSV or JSON input file"})]}),(0,a.jsx)("p",{children:"Where"}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:"<name>"}),"the name of the field (or comma separated fields aggregation) to check"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("code",{children:"<filepathRef file>"})," is the name of the binding containing the path of the CSV or JSON file"]})]}),(0,a.jsx)(n.p,{children:"The data value contained in the first record that satisifes the given predicate will be bound to the global scope. Otherwise if no records match, then no value will be bound."}),(0,a.jsx)("p",{children:"Examples"}),(0,a.jsx)(n.h5,{id:"csv-check-1",children:"CSV Check"}),(0,a.jsx)(n.p,{children:"Given the CSV file: resources/StateCodes.csv"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-csv",children:"Code,Name\nACT,Australian Capital Territory\nNSW,New South Wales\nNT,Northern Territory\nQLD,Queensland\nSA,South Australia\nTAS,Tasmania\nVIC,Victoria\nWA,Western Australia\n"})}),(0,a.jsxs)(n.p,{children:["The following will check that all values in the ",(0,a.jsx)("code",{children:"Name"})," column are unique:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",metastring:"{2}",children:'  Given the mapping file is "resources/StateCodes.csv"\n   Then Name should be unique in the mapping file\n'})}),(0,a.jsx)(n.h5,{id:"json-check-1",children:"JSON Check"}),(0,a.jsx)(n.p,{children:"Given the JSON file: resources/StateCodes.json"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  { "Code": "ACT", "Name": "Australian Capital Territory" },\n  { "Code": "NSW", "Name": "New South Wales" },\n  { "Code": "NT",  "Name": "Northern Territory" },\n  { "Code": "QLD", "Name": "Queensland" },\n  { "Code": "SA",  "Name": "South Australia" },\n  { "Code": "TAS", "Name": "Tasmania" },\n  { "Code": "VIC", "Name": "Victoria" },\n  { "Code": "WA",  "Name": "Western Australia" }\n]\n'})}),(0,a.jsxs)(n.p,{children:["The following will check that all ",(0,a.jsx)("code",{children:"Name"})," properties are unique:"]}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-gherkin",metastring:"{1}",children:'  Given the mapping file is "resources/StateCodes.json"\n   Then Name should be unique in the mapping file\n'})}),(0,a.jsxs)("div",{class:"grid-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.A,{to:"#name-should-be-unique-in-the-filepath-ref",children:"Link"})}),(0,a.jsx)("div",{align:"center"}),(0,a.jsxs)("div",{align:"right",children:["Since ",(0,a.jsx)(i.A,{to:"https://github.com/gwen-interpreter/gwen-web/releases/tag/v4.12.0",children:"v4.12.0"})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},9365(e,n,r){r.d(n,{A:()=>i});r(6540);var t=r(4164);const a="tabItem_Ymn6";var s=r(4848);function i({children:e,hidden:n,className:r}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(a,r),hidden:n,children:e})}},1470(e,n,r){r.d(n,{A:()=>k});var t=r(6540),a=r(4164),s=r(7559),i=r(3104),l=r(6347),o=r(205),c=r(7485),u=r(1682),d=r(679);function h(e){return t.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:r}=e;return(0,t.useMemo)(()=>{const e=n??function(e){return h(e).map(({props:{value:e,label:n,attributes:r,default:t}})=>({value:e,label:n,attributes:r,default:t}))}(r);return function(e){const n=(0,u.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,r])}function m({value:e,tabValues:n}){return n.some(n=>n.value===e)}function f({queryString:e=!1,groupId:n}){const r=(0,l.W6)(),a=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,c.aZ)(a),(0,t.useCallback)(e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace({...r.location,search:n.toString()})},[a,r])]}function g(e){const{defaultValue:n,queryString:r=!1,groupId:a}=e,s=p(e),[i,l]=(0,t.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const r=n.find(e=>e.default)??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:s})),[c,u]=f({queryString:r,groupId:a}),[h,g]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[r,a]=(0,d.Dv)(n);return[r,(0,t.useCallback)(e=>{n&&a.set(e)},[n,a])]}({groupId:a}),x=(()=>{const e=c??h;return m({value:e,tabValues:s})?e:null})();(0,o.A)(()=>{x&&l(x)},[x]);return{selectedValue:i,selectValue:(0,t.useCallback)(e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),g(e)},[u,g,s]),tabValues:s}}var x=r(2303);const v="tabList__CuJ",j="tabItem_LNqP";var b=r(4848);function N({className:e,block:n,selectedValue:r,selectValue:t,tabValues:s}){const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const n=e.currentTarget,a=l.indexOf(n),i=s[a].value;i!==r&&(o(n),t(i))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},e),children:s.map(({value:e,label:n,attributes:t})=>(0,b.jsx)("li",{role:"tab",tabIndex:r===e?0:-1,"aria-selected":r===e,ref:e=>{l.push(e)},onKeyDown:u,onClick:c,...t,className:(0,a.A)("tabs__item",j,t?.className,{"tabs__item--active":r===e}),children:n??e},e))})}function C({lazy:e,children:n,selectedValue:r}){const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=s.find(e=>e.props.value===r);return e?(0,t.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==r}))})}function S(e){const n=g(e);return(0,b.jsxs)("div",{className:(0,a.A)(s.G.tabs.container,"tabs-container",v),children:[(0,b.jsx)(N,{...n,...e}),(0,b.jsx)(C,{...n,...e})]})}function k(e){const n=(0,x.A)();return(0,b.jsx)(S,{...e,children:h(e.children)},String(n))}},8453(e,n,r){r.d(n,{R:()=>i,x:()=>l});var t=r(6540);const a={},s=t.createContext(a);function i(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);