import Link from '@docusaurus/Link';

# DSL Steps

All Gherkin steps that match the DSL expressions here are readily executable by Gwen. The DSL matched is the operation that will be performed when a step is interpreted for execution.

## Page navigation and URLs

### Given

<a name="the-page-url-is-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  the <page> url is "<url>"
  ```
  <p>Puts the given page into scope and binds the given URL to it. New bindings defined after this will be scoped to that page.</p>
  </summary>
  <div class="dsl-details">
  <p>Where</p>
  <ul>
    <li><code>&lt;page&gt;</code> is the name of the page</li>
    <li><code>&lt;url&gt;</code> is the page URL (can be in <Link to="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</Link> position)</li>
  </ul>
  <p>Example</p>

  ```gherkin {1}
    Given the todo page url is "https://todomvc.com/examples/react"
      And the todo field can be located by class "new-todo"
  ```

  <p>
    <Link to="#the-page-url-is-url">Link</Link> &nbsp; &nbsp;
    Since <Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.41.0">v2.41.0</Link>
  </p>
  </div>
</details>

### When

<a name="i-navigate-to-the-page" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I navigate to the <page>
  ```

  <p>Navigates the browser to the URL bound to the given page and puts it in scope. Starts a new browser window if one is not open.</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;page&gt;</code> is the name of the page to navigate to</li>
  </ul>
  <p>Example</p>

  ```gherkin {2}
    Given the todo page url is "https://todomvc.com/examples/react"
     When I navigate to the todo page
  ```

  <p>
    <Link to="#i-navigate-to-the-page">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-navigate-to-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I navigate to "<url>"
  ```

  <p>Navigates the browser to the given URL. Starts a new browser window if one is not open.</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;url&gt;</code> is the URL to navigate to (can be in <Link to="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</Link> position)</li>
  </ul>
  <p>Example</p>

  ```gherkin
    When I navigate to "https://todomvc.com/examples/react"
  ```

  <p>
    <Link to="#i-navigate-to-url">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-capture-the-current-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I capture the current URL
  ```
  
  <p>Captures the current browser URL and binds it as <code>the current URL</code>.</p>
  </summary>
  <p>Example</p>

  ```gherkin {1}
    When I capture the current URL
     And I navigate to "${the current URL}?q=gwen"
  ```

  <p>
    <Link to="#i-capture-the-current-url">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-capture-the-current-url-as-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I capture the current URL as <name>
  ```
  
  <p>Captures the current browser URL and binds it to the given name.</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;name&gt;</code> is the name to bind the captured URL to</li>
  </ul>
  <p>Example</p>

  ```gherkin {1}
    When I capture the current URL as the base URL
     And I navigate to "${the base URL}?q=gwen"
    Then the current URL should start with the base URL
  ```

  <p>
    <Link to="#i-capture-the-current-url-as-name">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-capture-the-text-in-the-current-url-by-regex-as-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I capture the text in the current URL by regex "<expression>" as <name>
  ```

  <p>Extracts a substring from the current browser URL using the given regex and binds the value to the given name.</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;expression&gt;</code> is the regex expression</li>
    <li><code>&lt;name&gt;</code> is the name to bind the captured substring to</li>
  </ul>
  <p>Example</p>

  ```gherkin {1}
    When I capture the text in the current URL by regex "q=([^&]*)" as q
    Then q should be "gwen"
  ```

  <p>
    <Link to="#i-capture-the-text-in-the-current-url-by-regex-as-name">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

### Then

<a name="the-current-url-should-match-expression" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  the current URL should[ not] <match> "<expression>"
  ```
  
  <p>Checks whether or not the current browser URL matches a given expression. Reports an assertion error if the match fails.</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>[ not]</code> negates the match</li>
    <li><code>&lt;match&gt;</code> is the type of match to perform, one of:
      <ul>
        <li><b>be</b> for exact match</li>
        <li><b>contain</b> for partial match</li>
        <li><b>start with</b> for partial leading match</li>
        <li><b>end with</b> for partial trailing match</li>
        <li><b>match regex</b> for regex match</li>
        <li><b>match xpath</b> for XML match</li>
        <li><b>match template</b> for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
        <li><b>match template file</b> for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template file match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> is the expression to match (can be in <Link to="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</Link> position)</li>
  </ul>
  <p>Example</p>

  ```gherkin {2,3}
    When I navigate to "https://todomvc.com/examples/react"
    Then the current URL should contain "todomvc.com"
     And the current URL should not contain "other.com"
  ```
  
  <p>
    <Link to="#the-current-url-should-match-expression">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="the-current-url-should-match-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  the current URL should[ not] <match> <name>
  ```
  
  <p>Checks whether or not the current URL in the browser matches an expression bound to a name. Reports an assertion error if the match fails.</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>[ not]</code> negates the match</li>
    <li><code>&lt;match&gt;</code> is the type of match to perform, one of:
      <ul>
        <li><b>be</b> for exact match</li>
        <li><b>contain</b> for partial match</li>
        <li><b>start with</b> for partial leading match</li>
        <li><b>end with</b> for partial trailing match</li>
        <li><b>match regex</b> for regex match</li>
        <li><b>match xpath</b> for XML match</li>
        <li><b>match template</b> for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
        <li><b>match template file</b> for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template file match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;name&gt;</code> is the name of the binding containing the expression to match</li>
  </ul>
  <p>Example</p>

  ```gherkin {4,5}
    Given my domain is "todomvc.com"
      And some other domain is "someother.com"
     When I navigate to "https://todomvc.com/examples/react"
     Then the current URL should contain my domain
      And the current URL should not contain some other domain
  ```
  
  <p>
    <Link to="#the-current-url-should-match-name">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

## Web element selectors

### Given

<a name="element-can-be-located-by-selector-expression" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  <element> can be located by <selector> "<expression>"
  ```

  <p>Binds a selector for a web element to the currently active scope (with a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default lookup timeout</Link>).</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;element&gt;</code> is the web element name</li>
    <li><code>&lt;selector&gt;</code> is the selector type, one of:
      <ul>
        <li><code>id</code> for selecting by id attribute</li>
        <li><code>name</code> for selecting by name attribute</li>
        <li><code>tag</code> or <code>tag name</code> for selecting by tag name</li>
        <li><code>css</code> or <code>css selector</code> for selecting by css expression</li>
        <li><code>class</code> or <code>class name</code> for selecting by class attribute</li>
        <li><code>xpath</code> for selecting by XPath</li>
        <li><code>link text</code> for selecting by link text</li>
        <li><code>partial link text</code> for selecting by partial link text</li>
        <li><code>js</code> or <code>javascript</code> for selecting by JavaScript</li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> is the selector expression</li>
  </ul>
  <p>Example</p>

  ```gherkin {1}
    Given the todo field can be located by class "new-todo"
     When I enter "Walk the dog" in the todo field
  ```

  <p>
    <Link to="#element-can-be-located-by-selector-expression">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="element-can-be-located-by-selector-expression-in-container" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  <element> can be located by <selector> "<expression>" in <container>
  ```

  <p>Binds a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Locator-Chaining">chained</Link> selector for a web element to the currently active scope (with a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default lookup timeout</Link>).</p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;element&gt;</code> is the web element name</li>
    <li><code>&lt;selector&gt;</code> is the selector type, one of:
      <ul>
        <li><code>id</code> for selecting by id attribute</li>
        <li><code>name</code> for selecting by name attribute</li>
        <li><code>tag</code> or <code>tag name</code> for selecting by tag name</li>
        <li><code>css</code> or <code>css selector</code> for selecting by css expression</li>
        <li><code>class</code> or <code>class name</code> for selecting by class attribute</li>
        <li><code>xpath</code> for selecting by XPath</li>
        <li><code>link text</code> for selecting by link text</li>
        <li><code>partial link text</code> for selecting by partial link text</li>
        <li><code>js</code> or <code>javascript</code> for selecting by JavaScript</li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> is the selector expression</li>
    <li><code>&lt;container&gt;</code> is the containing web element name</li>
  </ul>
    <p>Example</p>

  ```gherkin {2}
    Given my form can be located by name "formName"
      And my input field can be located by name "inputName" in my form
     When I type "Gwen" in my input field
  ```

  <p>
    <Link to="#element-can-be-located-by-selector-expression-in-container">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.1.0">1.1.0</Link>
  </p>
</details>

<a name="element-can-be-located-by-selector-expressions" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  <element> can be located by
    | <selector 1> | <expression 1> |
    | <selector 2> | <expression 2> |
    |      ..      |       ..       |
    | <selector n> | <expression n> |
  ```

  <p>
    Defines multiple selectors for a web element (each with a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default lookup timeout</Link>).
    Lookups will be attempted in the order specified in the table until one succeeds.
  </p>
  </summary>
  <p>Where</p>
  <ul>
    <li><code>&lt;element&gt;</code> is the web element name</li>
    <li><code>&lt;selector n&gt;</code> is the nth selector type, one of:
      <ul>
        <li><code>id</code> for selecting by id attribute</li>
        <li><code>name</code> for selecting by name attribute</li>
        <li><code>tag</code> or <code>tag name</code> for selecting by tag name</li>
        <li><code>css</code> or <code>css selector</code> for selecting by css expression</li>
        <li><code>class</code> or <code>class name</code> for selecting by class attribute</li>
        <li><code>xpath</code> for selecting by XPath</li>
        <li><code>link text</code> for selecting by link text</li>
        <li><code>partial link text</code> for selecting by partial link text</li>
        <li><code>js</code> or <code>javascript</code> for selecting by JavaScript</li>
      </ul>
    </li>
    <li><code>&lt;expression n&gt;</code> is the nth selector expression</li>
  </ul>
  <p>Example</p>

  ```gherkin {1-4}
    Given the search field can be located by
          | id         | search        |
          | class name | .search-field |
          | name       | q             |
     When I type "Gwen" in the search field
  ```

  <p>
    <Link to="#element-can-be-located-by-selector-expressions">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.11.0">2.11.0</Link>
  </p>
</details>


:::info We're migrating our docs

We will post more here soon. In the meantime, see the complete DSL guide on our wiki by clicking the link below:

- [Supported DSL](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL)

:::
