# DSL Overview

## Readily executable steps

All Gherkin steps that match a [supported DSL](supported-dsl) are considered DSL steps by Gwen and are readily executable.

:::note Example

The following is a DSL Step:

```gherkin
  Then the page title should contain "TodoMVC"
```

Since it matches the supported DSL:

- [`the page title <should|should not> <be|contain|start with|end with|match regex|match xpath|match template|match template file> "<expression>"`](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL#the-page-title-shouldshould-not-becontainstart-withend-withmatch-regexmatch-xpathmatch-templatematch-template-file-expression)

:::

## All execution happens in DSL steps

Every step interpreted by Gwen will directly or inderectly through StepDefs result in either:
- one or many DSL steps being executed
- one or many undefined steps not being executed
- or a combination of the above

:::note Step execution rules

Gwen interprets steps for execution according to the following rules:

1. StepDef rule
   - If the step is bound to a StepDef then apply these rules to every step in the body of that StepDef
2. DSL rule
   - If the step is a DSL step then execute it with the built-in code
3. Undefined rule
   - If neither of the above rules are satisfied then report an undefined step error
   
:::

StepDefs can override DSL steps to alter their operations or perform additional steps around them. If a StepDef calls itself however, then an error will be reported to prevent infinite recursion.

In the ideal case, all steps will execute. It is your job as a Gwen user to define StepDefs for all non DSL steps in your feature (and in your meta if you introduce any there). Gwen will help you by reporting any you may miss as undefined steps. You can also execute [dry runs](https://github.com/gwen-interpreter/gwen/wiki/Execution-Modes#dry-run-execution-and-validation) to check for syntax and binding errors.

## Use DSL steps in meta

:::tip

Confine all your DSL usage to Meta. Although it's possible to use DSL steps directly in features, we do not recommend making them DSL-aware. That's what meta is for!

:::

:::info Coming to Gwen 3

We are planning to ban DSL steps from feature specs by default in the upcomming Gwen 3 release by defaulting the [`gwen.feature.mode`](https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenfeaturemode) setting to `declarative` instead of `imperative`.

:::

Use DSL steps to compose StepDefs and make feature steps executable.

For example, to make this step executable:

:::note Step in feature

*File: features/todo.feature*

```gherkin
  Given a new todo list
```

:::

You could compose a StepDef like this:

:::note StepDef in meta

*File: features/todo.meta*

```gherkin {4-7}
  @Context
  @StepDef
  Scenario: a new todo list
      Given my todo list can be located by css ".todo-list"
       When I navigate to "https://todomvc.com/examples/react"
       Then the page title should contain "TodoMVC"
        And my todo list should not be displayed
```

Calls DSL steps:

- [`<element> can be located by <id|name|tag name|tag|css selector|css|xpath|class name|class|link text|partial link text|javascript|js> "<expression>"`](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL#element-can-be-located-by-idnametag-nametagcss-selectorcssxpathclass-nameclasslink-textpartial-link-textjavascriptjs-expression)
- [`I navigate to "<url>"`](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL#i-navigate-to-url)
- [`the page title <should|should not> <be|contain|start with|end with|match regex|match xpath|match template|match template file> "<expression>"`](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL#the-page-title-shouldshould-not-becontainstart-withend-withmatch-regexmatch-xpathmatch-templatematch-template-file-expression)
- [`<element> <should|should not> be <displayed|hidden|checked|ticked|unchecked|unticked|enabled|disabled>`](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL#element-shouldshould-not-be-displayedhiddencheckedtickeduncheckeduntickedenableddisabled)

:::
