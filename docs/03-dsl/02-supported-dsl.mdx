import CodeBlock from '@theme/CodeBlock';

# Supported DSL

## DSL Steps

All Gherkin steps that match the DSL steps here are readily executable. The DSL matched is the operation that Gwen will perform when a step is interpreted for execution.

:::note Notation

- `<placeholder>` = mandatory placeholder
- `[not ]` = optional negation operator

:::

### Page navigation and URLs

#### Given

<a name="the-page-url-is-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>the <code>&lt;page&gt;</code> url is "<code>&lt;url&gt;</code>"</summary>
  <p>Creates a new scope for the given page and binds the URL to it. Later steps can then navigate to the page by name.</p>
  <ul>
    <li><code>&lt;page&gt;</code> = the name of the page</li>
    <li><code>&lt;url&gt;</code> = the page URL (can be a <a href="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</a>)</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    Given the todo page url is "https://todomvc.com/examples/react"
    </pre>
    <pre>
    When I navigate to the todo page
    </pre>
  </details>
  <p>
    <a href="#the-page-url-is-url">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.41.0">2.41.0</a>
  </p>
</details>

<a name="i-am-on-the-page" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>I am on the <code>&lt;page&gt;</code></summary>
  <p>Sets the given page as the currently active and visible scope. New bindings that follow will be attached to this scope.</p>
  <ul>
    <li><code>&lt;page&gt;</code> = the name of the page</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    Given I am on the todo page
    </pre>
    <pre>
    And the todo field can be located by class "new-todo"
    </pre>
    <p>Here, <b>the todo field</b> will be bound to the <b>todo page</b> scope and will be accessible in other steps only when that scope is active.</p>
  </details>
  <p>
    <a href="#i-am-on-the-page">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

#### When

<a name="i-navigate-to-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>I navigate to "<code>&lt;url&gt;</code>"</summary>
  <p>Navigates the browser to the given URL. Starts a new browser window if one is not open.</p>
  <ul>
    <li><code>&lt;url&gt;</code> = the URL to navigate to (can be a <a href="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</a>)</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    When I navigate to "https://todomvc.com/examples/react"
    </pre>
  </details>
  <p>
    <a href="#i-navigate-to-url">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

<a name="i-navigate-to-the-page" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>I navigate to the <code>&lt;page&gt;</code></summary>
  <p>Navigates the browser to the URL bound to given page name and makes it the currently active scope. Starts a new browser window if one is not open.</p>
  <ul>
    <li><code>&lt;page&gt;</code> = the name of the page to navigate to</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    Given the todo page url is "https://todomvc.com/examples/react"
    </pre>
    <pre>
    When I navigate to the todo page
    </pre>
  </details>
  <p>
    <a href="#i-navigate-to-the-page">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

<a name="i-capture-the-current-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>I capture the current URL</summary>
  <p>Captures the current browser URL and binds it to the name: <code>the current URL</code>.</p>
  <details>
    <summary>Example usage</summary>
    <pre>
    When I capture the current URL
    </pre>
    <pre>
    And I navigate to "{'${the current URL}'}?q=gwen"
    </pre>
  </details>
  <p>
    <a href="#i-capture-the-current-url">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

<a name="i-capture-the-current-url-as-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>I capture the current URL as <code>&lt;name&gt;</code></summary>
  <p>Captures the current browser URL and binds it to the given name.</p>
  <ul>
    <li><code>&lt;name&gt;</code> = the name to bind the captured URL to</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    When I capture the current URL as the base URL
    </pre>
    <pre>
    And I navigate to "{'${the base URL}'}?q=gwen"
    </pre>
    <pre>
    Then the current URL should start with the base URL
    </pre>
  </details>
  <p>
    <a href="#i-capture-the-current-url-as-name">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

<a name="i-capture-the-text-in-the-current-url-by-regex-as-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>I capture the text in the current URL by regex "<code>&lt;expression&gt;</code>" as <code>&lt;name&gt;</code></summary>
  <p>Captures a susbtring of the current URL in the browser by regex and binds it to the given name.</p>
  <ul>
    <li><code>&lt;expression&gt;</code> = the regex expression</li>
    <li><code>&lt;name&gt;</code> = the name to bind the captured substring to</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    When I capture the text in the current URL by regex "q=([^&]*)" as the q param
    </pre>
    <pre>
    Then the q param should be "gwen"
    </pre>
  </details>
  <p>
    <a href="#i-capture-the-text-in-the-current-url-by-regex-as-name">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

#### Then

<a name="the-current-url-should-match-expression" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>the current URL should <code>[not ]&lt;match&gt;</code> "<code>&lt;expression&gt;</code>"</summary>
  <p>Checks if the current URL in the browser matches or does not match a given expression. Reports an assertion error if the match fails.</p>
  <ul>
    <li><code>[not ]</code> = include <code>not </code> to negate the match, omit otherwise</li>
    <li><code>&lt;match&gt;</code> = the type of match to perform, one of:
      <ul>
        <li><b>be</b> : for exact match</li>
        <li><b>contain</b> : for partial match</li>
        <li><b>start with</b> : for partial leading match</li>
        <li><b>end with</b> : for partial trailing match</li>
        <li><b>match regex</b> : for regex match</li>
        <li><b>match xpath</b> : for XML match</li>
        <li><b>match template</b> : for <a href="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template match</a>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</a></li>
        <li><b>match template file</b> : for <a href="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template file match</a>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</a></li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> = the expression to match (can be a <a href="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</a>)</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    Then the current URL should contain "todomvc.com"
    </pre>
    <p>Or negated:</p>
    <pre>
    Then the current URL should not contain "todomvc.com"
    </pre>
  </details>
  <p>
    <a href="#the-current-url-should-match-expression">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

<a name="the-current-url-should-match-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>the current URL should <code>[not ]&lt;match&gt;</code> <code>&lt;name&gt;</code>
  </summary>
  <p>Checks if the current URL in the browser matches or does not match an expression bound to a name. Reports an assertion error if the match fails.</p>
  <ul>
    <li><code>[not ]</code> = include <code>not </code> to negate the match, omit otherwise</li>
    <li><code>&lt;match&gt;</code> = the type of match to perform, one of:
      <ul>
        <li><b>be</b> : for exact match</li>
        <li><b>contain</b> : for partial match</li>
        <li><b>start with</b> : for partial leading match</li>
        <li><b>end with</b> : for partial trailing match</li>
        <li><b>match regex</b> : for regex match</li>
        <li><b>match xpath</b> : for XML match</li>
        <li><b>match template</b> : for <a href="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template match</a>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</a></li>
        <li><b>match template file</b> : for <a href="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template file match</a>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</a></li>
      </ul>
    </li>
    <li><code>&lt;name&gt;</code> = the name of the binding containing the expression to match</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    Given my domain is "todomvc.com"
    </pre>
    <pre>
    Then the current URL should contain my domain
    </pre>
    <p>Or negated:</p>
    <pre>
    Then the current URL should not contain my domain
    </pre>
  </details>
  <p>
    <a href="#the-current-url-should-match-name">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

### Web element selectors

#### Given

<a name="element-can-be-located-by-selector-expression" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary><code>&lt;element&gt;</code> can be located by <code>&lt;selector&gt;</code> "<code>&lt;expression&gt;</code>"</summary>
  <p>Defines a web element selector with a <a href="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default timeout</a>.</p>
  <ul>
    <li><code>&lt;elemen&gt;</code> = the web element name</li>
    <li><code>&lt;selector&gt;</code> = the selector type, one of:
      <ul>
        <li><b>id</b> : for selecting by id</li>
        <li><b>tag name</b> : for selecting by tag name</li>
        <li><b>name</b> : shorthand alternative for <b>tag name</b>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</a></li>
        <li><b>css selector</b> : for selecting by css</li>
        <li><b>css</b> : shorthand alternative for <b>css selector</b>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</a></li>
        <li><b>class name</b> : for selecting by class name</li>
        <li><b>class</b> : shorthand alternative for <b>class name</b>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</a></li>
        <li><b>xpath</b> : for selecting by XPath</li>
        <li><b>link text</b> : for selecting by link text</li>
        <li><b>partial link text</b> : for selecting by partial link text</li>
        <li><b>javascript</b> : for selecting by JavaScript</li>
        <li><b>js</b> : shorthand alternative for <b>javascript</b>, since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</a></li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> = the selector expression</li>
  </ul>
  <details>
    <summary>Example usage</summary>
    <pre>
    Given the todo field can be located by class "new-todo"
    </pre>
    <pre>
    When I enter "Walk the dog" in the todo field
    </pre>
  </details>
  <p>
    <a href="#element-can-be-located-by-selector-expression">Link</a> &nbsp; &nbsp;
    Since v<a href="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</a>
  </p>
</details>

:::info We're migrating our docs

We will post more here soon. In the meantime, see the complete DSL guide on our wiki by clicking the link below:

- [Supported DSL](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL)

:::
