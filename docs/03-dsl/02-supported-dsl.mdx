import Link from '@docusaurus/Link';

# Supported DSL

All Gherkin steps that match the DSL steps here are readily executable. The DSL matched is the operation that Gwen will perform when a step is interpreted for execution.

:::note Notation

- `<placeholder>` = mandatory placeholder
- `[ not]` = optional negation operator

:::

## Page navigation and URLs

### Given

<a name="the-page-url-is-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  the <page> url is "<url>"
  ```
  <p>Sets the URL for a web page and puts the page into scope.</p>
  </summary>
  <ul>
    <li><code>&lt;page&gt;</code> = the name of the page</li>
    <li><code>&lt;url&gt;</code> = the page URL (can be a <Link to="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</Link>)</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given the todo page url is "https://todomvc.com/examples/react"
     When I navigate to the todo page
  ```

  <p>
    <Link to="#the-page-url-is-url">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.41.0">2.41.0</Link>
  </p>
</details>

<a name="i-am-on-the-page" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I am on the <page>
  ```

  <p>Puts the given page into scope.</p>
  </summary>
  <ul>
    <li><code>&lt;page&gt;</code> = the name of the page</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given I am on the todo page
  ```
  
  <p>
    <Link to="#i-am-on-the-page">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

### When

<a name="i-navigate-to-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I navigate to "<url>"
  ```

  <p>Navigates the browser to the given URL. Starts a new browser window if one is not open.</p>
  </summary>
  <ul>
    <li><code>&lt;url&gt;</code> = the URL to navigate to (can be a <Link to="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</Link>)</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    When I navigate to "https://todomvc.com/examples/react"
  ```

  <p>
    <Link to="#i-navigate-to-url">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-navigate-to-the-page" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I navigate to the <page>
  ```

  <p>Navigates the browser to the URL bound to the given page and puts it into scope. Starts a new browser window if one is not open.</p>
  </summary>
  <ul>
    <li><code>&lt;page&gt;</code> = the name of the page to navigate to</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given the todo page url is "https://todomvc.com/examples/react"
     When I navigate to the todo page
  ```

  <p>
    <Link to="#i-navigate-to-the-page">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-capture-the-current-url" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I capture the current URL
  ```
  
  <p>Captures the current browser URL and binds it to the name: <code>the current URL</code>.</p>
  </summary>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    When I capture the current URL
     And I navigate to "${the current URL}?q=gwen"
  ```

  <p>
    <Link to="#i-capture-the-current-url">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-capture-the-current-url-as-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I capture the current URL as <name>
  ```
  
  <p>Captures the current browser URL and binds it to the given name.</p>
  </summary>
  <ul>
    <li><code>&lt;name&gt;</code> = the name to bind the captured URL to</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    When I capture the current URL as the base URL
     And I navigate to "${the base URL}?q=gwen"
    Then the current URL should start with the base URL
  ```

  <p>
    <Link to="#i-capture-the-current-url-as-name">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="i-capture-the-text-in-the-current-url-by-regex-as-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  I capture the text in the current URL by regex "<expression>" as <name>
  ```

  <p>Captures a substring from the current browser URL by regex and binds it to the given name.</p>
  </summary>
  <ul>
    <li><code>&lt;expression&gt;</code> = the regex expression</li>
    <li><code>&lt;name&gt;</code> = the name to bind the captured substring to</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    When I capture the text in the current URL by regex "q=([^&]*)" as q
    Then q should be "gwen"
  ```

  <p>
    <Link to="#i-capture-the-text-in-the-current-url-by-regex-as-name">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

### Then

<a name="the-current-url-should-match-expression" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  the current URL should[ not] <match> "<expression>"
  ```
  
  <p>Checks if the current browser URL matches (or doesn't match) a given expression. Reports an assertion error if the match fails.</p>
  </summary>
  <ul>
    <li><code>[ not]</code> = include the word <code>not</code> to negate the match, omit otherwise</li>
    <li><code>&lt;match&gt;</code> = the type of match to perform, one of:
      <ul>
        <li><b>be</b> : for exact match</li>
        <li><b>contain</b> : for partial match</li>
        <li><b>start with</b> : for partial leading match</li>
        <li><b>end with</b> : for partial trailing match</li>
        <li><b>match regex</b> : for regex match</li>
        <li><b>match xpath</b> : for XML match</li>
        <li><b>match template</b> : for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
        <li><b>match template file</b> : for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template file match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> = the expression to match (can be a <Link to="https://github.com/gwen-interpreter/gwen/wiki/Doc-Strings">DocString</Link>)</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Then the current URL should contain "todomvc.com"
     And the current URL should not contain "other.com"
  ```
  
  <p>
    <Link to="#the-current-url-should-match-expression">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="the-current-url-should-match-name" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  the current URL should[ not] <match> <name>
  ```
  
  <p>Checks if the current URL in the browser matches (or doesn't match) an expression bound to a name. Reports an assertion error if the match fails.</p>
  </summary>
  <ul>
    <li><code>[ not]</code> = include the word <code>not</code> to negate the match, omit otherwise</li>
    <li><code>&lt;match&gt;</code> = the type of match to perform, one of:
      <ul>
        <li><b>be</b> : for exact match</li>
        <li><b>contain</b> : for partial match</li>
        <li><b>start with</b> : for partial leading match</li>
        <li><b>end with</b> : for partial trailing match</li>
        <li><b>match regex</b> : for regex match</li>
        <li><b>match xpath</b> : for XML match</li>
        <li><b>match template</b> : for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
        <li><b>match template file</b> : for <Link to="https://github.com/gwen-interpreter/gwen/wiki/Template-Matching">template file match</Link>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.16.0">2.16.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;name&gt;</code> = the name of the binding containing the expression to match</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given my domain is "todomvc.com"
      And other domain is "other.com"
     Then the current URL should contain my domain
      And the current URL should not contain other domain
  ```
  
  <p>
    <Link to="#the-current-url-should-match-name">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

## Web element selectors

### Given

<a name="element-can-be-located-by-selector-expression" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  <element> can be located by <selector> "<expression>"
  ```

  <p>Defines a selector for a web element and gives it a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default timeout</Link>.</p>
  </summary>
  <ul>
    <li><code>&lt;element&gt;</code> = the web element name</li>
    <li><code>&lt;selector&gt;</code> = the selector type, one of:
      <ul>
        <li><b>id</b> : for selecting by id attribute</li>
        <li><b>name</b> : for selecting by name attribute</li>
        <li><b>tag name</b> : for selecting by tag name</li>
        <li><b>tag</b> : shorthand alternative for <b>tag name</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>css selector</b> : for selecting by css expression</li>
        <li><b>css</b> : shorthand alternative for <b>css selector</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>class name</b> : for selecting by class attribute</li>
        <li><b>class</b> : shorthand alternative for <b>class name</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>xpath</b> : for selecting by XPath</li>
        <li><b>link text</b> : for selecting by link text</li>
        <li><b>partial link text</b> : for selecting by partial link text</li>
        <li><b>javascript</b> : for selecting by JavaScript</li>
        <li><b>js</b> : shorthand alternative for <b>javascript</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> = the selector expression</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given the todo field can be located by class "new-todo"
     When I enter "Walk the dog" in the todo field
  ```

  <p>
    <Link to="#element-can-be-located-by-selector-expression">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.0.0">1.0.0</Link>
  </p>
</details>

<a name="element-can-be-located-by-selector-expression-in-container" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  <element> can be located by <selector> "<expression>" in <container>
  ```

  <p>Defines a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Locator-Chaining">chained</Link> selector for a web element contained in another element and gives it a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default timeout</Link>.</p>
  </summary>
  <ul>
    <li><code>&lt;element&gt;</code> = the web element name</li>
    <li><code>&lt;selector&gt;</code> = the selector type, one of:
      <ul>
        <li><b>id</b> : for selecting by id attribute</li>
        <li><b>name</b> : for selecting by name attribute</li>
        <li><b>tag name</b> : for selecting by tag name</li>
        <li><b>tag</b> : shorthand alternative for <b>tag name</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>css selector</b> : for selecting by css expression</li>
        <li><b>css</b> : shorthand alternative for <b>css selector</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>class name</b> : for selecting by class attribute</li>
        <li><b>class</b> : shorthand alternative for <b>class name</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>xpath</b> : for selecting by XPath</li>
        <li><b>link text</b> : for selecting by link text</li>
        <li><b>partial link text</b> : for selecting by partial link text</li>
        <li><b>javascript</b> : for selecting by JavaScript</li>
        <li><b>js</b> : shorthand alternative for <b>javascript</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;expression&gt;</code> = the selector expression</li>
    <li><code>&lt;container&gt;</code> = the containing web element name</li>
  </ul>
    <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given my form can be located by name "formName"
      And my input field can be located by name "inputName" in my form
     When I type "Gwen" in my input field
  ```

  <p>
    <Link to="#element-can-be-located-by-selector-expression-in-container">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v1.1.0">1.1.0</Link>
  </p>
</details>

<a name="element-can-be-located-by-selector-expressions" />
<details style={{ backgroundColor: '#FFFFFF00' }}>
  <summary>

  ```gherkin
  <element> can be located by
    | <selector 1> | <expression 1> |
    | <selector 2> | <expression 2> |
    |      ..      |       ..       |
    | <selector n> | <expression n> |
  ```

  <p>
    Defines multiple selectors for a web element and gives each one a <Link to="https://github.com/gwen-interpreter/gwen-web/wiki/Runtime-Settings#gwenweblocatorwaitseconds">default timeout</Link>.
    Lookup will be performed in the order given until one succeeds.
  </p>
  </summary>
  <ul>
    <li><code>&lt;element&gt;</code> = the web element name</li>
    <li><code>&lt;selector n&gt;</code> = the nth selector type, one of:
      <ul>
        <li><b>id</b> : for selecting by id attribute</li>
        <li><b>name</b> : for selecting by name attribute</li>
        <li><b>tag name</b> : for selecting by tag name</li>
        <li><b>tag</b> : shorthand alternative for <b>tag name</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>css selector</b> : for selecting by css expression</li>
        <li><b>css</b> : shorthand alternative for <b>css selector</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>class name</b> : for selecting by class attribute</li>
        <li><b>class</b> : shorthand alternative for <b>class name</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
        <li><b>xpath</b> : for selecting by XPath</li>
        <li><b>link text</b> : for selecting by link text</li>
        <li><b>partial link text</b> : for selecting by partial link text</li>
        <li><b>javascript</b> : for selecting by JavaScript</li>
        <li><b>js</b> : shorthand alternative for <b>javascript</b>, since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.46.0">2.46.0</Link></li>
      </ul>
    </li>
    <li><code>&lt;expression n&gt;</code> = the nth selector expression</li>
  </ul>
  <p><b>Example usage</b></p>

  ```gherkin
  Scenario: ..
    Given the search field can be located by
          | id         | search        |
          | class name | .search-field |
          | name       | q             |
     When I type "Gwen" in the search field
  ```

  <p>
    <Link to="#element-can-be-located-by-selector-expressions">Link</Link> &nbsp; &nbsp;
    Since v<Link to="https://github.com/gwen-interpreter/gwen-web/releases/tag/v2.11.0">2.11.0</Link>
  </p>
</details>


:::info We're migrating our docs

We will post more here soon. In the meantime, see the complete DSL guide on our wiki by clicking the link below:

- [Supported DSL](https://github.com/gwen-interpreter/gwen-web/wiki/Supported-DSL)

:::
