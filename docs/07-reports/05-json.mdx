
import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# JSON Reports

Gwen can generete JSON reports enabling you to feed evaulation results into other Gherkin report formatters (such as [Donut](http://donutreport.github.io/donut/)) or your own custom one.

## Generate JSON

<Tabs
  groupId="setup"
  defaultValue="standalone"
  values={[
    {label: 'Standalone', value: 'standalone'},
    {label: 'Gwen Workspace', value: 'workspace'},
    {label: 'JS Project', value: 'js'},
  ]}>

<TabItem value="standalone">

<Tabs
  groupId="os"
  defaultValue="linux"
  values={[
    {label: 'Linux', value: 'linux'},
    {label: 'Windows', value: 'windows'},
  ]}>

<TabItem value="linux">

To generate JSON reports only

```shell
./gwen -b -r output/reports -f json features/todo
```

To generate HTML and JSON reports

```shell
./gwen -b -r output/reports -f html,json features/todo
```

</TabItem>

<TabItem value="windows">

To generate JSON reports only

```shell
gwen -b -r output\reports -f json features\todo
```

To generate HTML and JSON reports

```shell
gwen -b -r output\reports -f html,json features\todo
```

</TabItem>

</Tabs>

<p>Output</p>

- The JSON report files will be generated at <code>output/reports/json/*.json</code>. You can set this path in your Jenkins reporting configuration for example.
- The HTML report will be generated at <code>output/reports/index.html</code>.

</TabItem>

<TabItem value="workspace">

<Tabs
  groupId="os"
  defaultValue="linux"
  values={[
    {label: 'Linux', value: 'linux'},
    {label: 'Windows', value: 'windows'},
  ]}>

<TabItem value="linux">

To generate JSON reports only

```shell
./gwen -b -f json features/todo
```

To generate HTML and JSON reports

```shell
./gwen -b -f html,json features/todo
```

</TabItem>

<TabItem value="windows">

To generate JSON reports only

```shell
gwen -b -f json features\todo
```

To generate HTML and JSON reports

```shell
gwen -b -f html,json features\todo
```

</TabItem>

</Tabs>

<p>Output</p>

- The JSON report files will be generated at <code>target/reports/json/*.json</code>. You can feed these to other reporters.
- The HTML report will be generated at <code>target/reports/index.html</code>.

</TabItem>

<TabItem value="js">

:::info Coming to Gwen 3

Support for JS projects coming soon to Gwen 3.

:::

</TabItem>

</Tabs>

## Sample output

*File: target/reports/json/features-todo-Todo.feature.json*
```json
[
  {
    "uri": "features\/todo\/Todo.feature",
    "keyword": "Feature",
    "id": "features-todo-Todo.feature;add-todo-items",
    "line": 3,
    "name": "features\/todo\/Todo.feature: Add todo items",
    "description": "",
    "tags": [
      {
        "name": "@Sample",
        "line": 2,
      }
    ],
    "elements": [
      {
        "keyword": "Scenario",
        "id": "scenario;create-todo-list;1",
        "line": 5,
        "name": "Create todo list",
        "description": "",
        "type": "scenario",
        "steps": [
          {
            "keyword": "Given ",
            "name": "a new todo list",
            "line": 6,
            "match": {
                "location": "features\/todo\/Todo.meta:6"
            },
            "result": {
              "status": "passed",
              "duration": 6151153459
            }
          },
          {
            "keyword": "When ",
            "name": "the following items are added",
            "line": 7,
            "rows": [
              {
                "cells": [
                  "Item"
                ],
                "line": 8,
                "id": "scenario;create-todo-list;1;1;8"
              },
              {
                "cells": [
                  "Get the milk"
                ],
                "line": 9,
                "id": "scenario;create-todo-list;1;2;9"
              },
              {
                "cells": [
                  "Walk the dog"
                ],
                "line": 10,
                "id": "scenario;create-todo-list;1;3;10"
              }
            ],
            "result": {
              "status": "passed",
              "duration": 18004904227
            }
          },
          {
            "keyword": "Then ",
            "name": "the list will contain 2 items",
            "line": 11,
            "match": {
                "location": "features\/todo\/Todo.meta:24"
            },
            "result": {
              "status": "passed",
              "duration": 201269901
            }
          }
        ]
      }
    ]
  }
]
```