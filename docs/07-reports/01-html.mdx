import Link from '@docusaurus/Link';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# HTML Reports

Pretty HTML reports capture evaluated results and statistics.

![Example HTML report](/img/reports/sample-html-report.png)

[StepDefs](/docs/meta-specs#stepdefs) are inlined and can be expanded by hovering over steps with the mouse and clicking them in the report.

![Example HTML report](/img/reports/sample-html-report-expanded.png)

## Generate HTML report

<Tabs
  groupId="setup"
  defaultValue="standalone"
  values={[
    {label: 'Standalone', value: 'standalone'},
    {label: 'Gwen Workspace', value: 'workspace'},
    {label: 'JS Project', value: 'js'},
  ]}>

<TabItem value="standalone">

To generate a HTML evaluation report, specify the <code>-r/--report &l;dir&gt;</code> <Link to="/docs/cli/launcher">CLI option</Link>.

<p>Where</p>

- <code>&lt;dir&gt;</code> is the directory where you want the report to be generated into

<p>Output</p>

- When execution completes, the report will then be genrated at <code>&lt;dir&gt;/index.html</code>.

<Tabs
  groupId="os"
  defaultValue="linux"
  values={[
    {label: 'Linux', value: 'linux'},
    {label: 'Windows', value: 'windows'},
  ]}>

<TabItem value="linux">

```
./gwen -b -r output/reports features/todo
```

</TabItem>

<TabItem value="windows">

```
gwen -b -r output\reports features/todo
```

</TabItem>

</Tabs>

</TabItem>

<TabItem value="workspace">

Workspaces are preconfigured to generate HTML reports to <code>target/reports</code>, so you don't need to explicity specify the <code>-r/--report</code> <Link to="/docs/cli/launcher">CLI option</Link>.

<Tabs
  groupId="os"
  defaultValue="linux"
  values={[
    {label: 'Linux', value: 'linux'},
    {label: 'Windows', value: 'windows'},
  ]}>

<TabItem value="linux">

To change the default report output directory, amend the <code>-r target/reports</code> option in your workspace launch script.

*File: gwen*
```shell {2}
echo "Launching gwen"
$GWEN_WEB_HOME/bin/gwen-web $GWEN_JVM_ARGS -r target/reports -p "$GWEN_PROPS" "$@"
```

Launch Gwen

```
./gwen -b features/todo
```

</TabItem>

<TabItem value="windows">

To change the default report output directory, amend the <code>-r target/reports</code> option in your workspace launch script.

*File: gwen.bat*
```shell {2}
ECHO Launching Gwen
CALL %GWEN_WEB_HOME%\bin\gwen-web %GWEN_JVM_ARGS% -r target/reports -p "%GWEN_PROPS%" %GWEN_ARGS%
```

Launch Gwen

```
gwen -b features\todo
```

</TabItem>

</Tabs>

</TabItem>

<TabItem value="js">

:::info Coming to Gwen 3

Support for JS projects coming soon to Gwen 3.

:::

</TabItem>

</Tabs>

## Capture screenshots and genrate slideshows

Gwen can capture screenshots and generate slideshows in HTML reports to create the illusion of video. To get the slideshow in your report, you will need to enable screen capture by setting either or both of the following [Gwen settings](docs/settings/overview):

- [`gwen.web.capture.screenshots`](/docs/settings/reference#gwen-web-capture-screenshots)
  - Set to `true` to capture screenshots
- [`gwen.web.capture.screenshots.highlighting`](/docs/settings/reference#gwen-web-capture-screenshots-highlighting)
  - Set to `true` to capture element highlighting screenshots

<Tabs
  groupId="config"
  defaultValue="properties"
  values={[
    {label: 'gwen.properties', value: 'properties'}
  ]}>

  <TabItem value="properties">

  To include both standard and element highligthing screenshots:

  ```properties
    gwen.web.capture.screenshots = true
    gwen.web.capture.screenshots.highlighting = true
  ```

  To include standard screenshots only:

  ```properties
    gwen.web.capture.screenshots = true
    gwen.web.capture.screenshots.highlighting = false
  ```

  To include element highlighting screenshots only:

  ```properties
    gwen.web.capture.screenshots = false
    gwen.web.capture.screenshots.highlighting = true
  ```

  To not capture any screenshots or generate slideshow:

  ```properties
    gwen.web.capture.screenshots = false
    gwen.web.capture.screenshots.highlighting = false
  ```

  </TabItem>

</Tabs>



:::caution

Expect some performance ovehead when turning on screenshot capture.

:::

Captured screenshot attachments will appear next to each step in the HTML report and a Slideshow button will be displayed in the status header bar at the top.


![Example HTML report](/img/reports/sample-html-slideshow-1.png)

Clicking the "Slideshow" button will open the slideshow in a popup box enabling you to navigate and play screenshots at different speeds.

![Example HTML report](/img/reports/sample-html-slideshow-2.png)

Clicking the "Full Screen" link will pull the slideshow out of the popup enabling you to view it in full size.

![Example HTML report](/img/reports/sample-html-slideshow-3.png)
